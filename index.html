<html>
<head>
<title>Kiosk</title>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.2.6/jquery.min.js" type="text/javascript" charset="utf-8"></script>
<link href='http://fonts.googleapis.com/css?family=PT+Sans+Caption:400,700' rel='stylesheet' type='text/css'>
<style>
body {
  font-family: 'PT Sans Caption', sans-serif;
  margin:24px;
}
.arrival {
  background: #a00404;
  color: white;
}

html, body {height:100%; width:100%; overflow:hidden}
.weather td {font-size:22px; width:100px}

</style>

</head>
<body>
<div style="font-size:200px; font-weight: 400">Caltrain</div>

<table>
<tr>
<td>
  <img src="train.png" height=120 style="margin-right:16px">
</td>
<td>
  <div style="font-size:60px; font-weight: 700" id="Northbound_direction"></div>
  <div style="font-size:40px; font-weight: 400" id="Northbound_train"></div>
</td>
</tr>
</table>
<br>
<table>
<tr>
<td>
  <img src="train.png" height=120 style="margin-right:16px">
</td>
<td>
  <div style="font-size:60px; font-weight: 700" id="Southbound_direction"></div>
  <div style="font-size:40px; font-weight: 400" id="Southbound_train"></div>
</td>
</tr>
</table>

<br/><br/>
<!--<img src="sunshine.png" height=400>-->
<table border=0 cellpadding=0 cellspacing=0 style="position:absolute; bottom:0; bottom:148px; right:48px; font-size:40px; float:right" class="weather">
<tr>
<td id=w0></td>
<td id=w1></td>
<td id=w2></td>
<td id=w3></td>
<td id=w4></td>
</tr>
</table>
<div style="position:absolute; bottom:0; bottom:48px; right:48px; font-size:40px; text-align:right" id=time>Time</div>
<div style="position:absolute; bottom:0; top:48px; right:48px; font-size:40px; text-align:right" id=f>F</div>

<script type="text/javascript">
function gtime() {
	var currentTime = new Date()
	var hours = currentTime.getHours()
	var minutes = currentTime.getMinutes()

	if (minutes < 10)
	minutes = "0" + minutes

	var suffix = "A";
	if (hours >= 12) {
	  suffix = "P";
	  hours = hours - 12;
	}
	if (hours == 0) {
	  hours = 12;
	}

	return hours + ":" + minutes + " " + suffix;
}

</script>

<script>

var timetables = eval('[[["Train No.","101","103","305(b)","207(x)","309(b)","211(x)","313(b)","215(x)","217(x)","319(b)","221(x)","323(b)","225(x)","227(x)","329(b)","231(x)","233(x)","135","237(x)","139","143","147","151","155","257(x)","159","261(x)","263(x)","365(b)","267(x)","369(b)","271(x)","373(b)","275(x)","277(x)","379(b)","281(x)","383(b)","285(x)","287(x)","189","191","193","195","197#"],["Gilroy","","","","","","","","","6:07 A","","6:30 A","","","7:05 A","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["San Martin","","","","","","","","","6:16 A","","6:39 A","","","7:14 A","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["Morgan Hill","","","","","","","","","6:22 A","","6:45 A","","","7:20 A","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["Blossom Hill","","","","","","","","","6:35 A","","6:58 A","","","7:33 A","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["Capitol","","","","","","","","","6:41 A","","7:04 A","","","7:39 A","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["Tamien","","4:58 A","","5:50 A","5:56 A","","","","6:49 A","6:56 A","7:12 A","","","7:47 A","7:56 A","","8:33 A","","9:33 A","","","","","","2:33 P","","3:37 P","3:58 P","","4:32 P","","4:58 P","","","5:32 P","","5:58 P","","6:24 P","","","","8:23 P","9:23 P",""],["San Jose","4:30 A","5:05 A","5:45 A","5:57 A","6:03 A","6:22 A","6:45 A","6:50 A","6:57 A","7:03 A","7:20 A","7:45 A","7:50 A","7:55 A","8:03 A","8:22 A","8:40 A","9:10 A","9:40 A","10:10 A","11:10 A","12:10 P","1:10 P","2:10 P","2:40 P","3:05 P","3:44 P","4:05 P","4:25 P","4:39 P","4:45 P","5:05 P","5:25 P","5:31 P","5:39 P","5:45 P","6:05 P","6:25 P","6:31 P","6:45 P","6:50 P","7:30 P","8:30 P","9:30 P","10:30 P"],["College Park","","","","","","","","","","","","","","7:58 A","","","","","","","","","","","","3:08 P","","","","","","","","","","","","","","","","","","",""],["Santa Clara","4:35 A","5:10 A","","6:02 A","","6:27 A","","","7:02 A","","7:25 A","","","8:02 A","","8:27 A","8:45 A","9:15 A","9:45 A","10:15 A","11:15 A","12:15 P","1:15 P","2:15 P","2:45 P","3:12 P","3:49 P","4:10 P","","4:44 P","","5:10 P","","","5:44 P","","6:10 P","","","","6:55 P","7:35 P","8:35 P","9:35 P","10:35 P"],["Lawrence","4:40 A","5:15 A","","6:12 A","","","","","7:12 A","","7:30 A","","","8:12 A","","","8:50 A","9:20 A","9:50 A","10:20 A","11:20 A","12:20 P","1:20 P","2:20 P","2:50 P","3:17 P","3:54 P","","","4:52 P","","","","5:39 P","5:52 P","","","","6:39 P","6:53 P","7:00 P","7:40 P","8:40 P","9:40 P","10:40 P"],["Sunnyvale","4:44 A","5:19 A","","6:18 A","6:13 A","","","7:00 A","7:18 A","7:13 A","","","8:00 A","8:18 A","8:13 A","","8:54 A","9:24 A","9:54 A","10:24 A","11:24 A","12:24 P","1:24 P","2:24 P","2:54 P","3:21 P","3:58 P","","","4:58 P","","","","","5:58 P","","","","","","7:04 P","7:44 P","8:44 P","9:44 P","10:44 P"],["Mountain View","4:49 A","5:24 A","5:57 A","6:23 A","","6:37 A","6:57 A","7:05 A","7:23 A","","7:37 A","7:57 A","8:05 A","8:23 A","","8:37 A","8:59 A","9:29 A","9:59 A","10:29 A","11:29 A","12:29 P","1:29 P","2:29 P","2:59 P","3:26 P","4:03 P","","4:37 P","5:03 P","4:58 P","","5:37 P","5:46 P","6:03 P","5:58 P","","6:37 P","6:46 P","7:00 P","7:09 P","7:49 P","8:49 P","9:49 P","10:49 P"],["San Antonio","4:53 A","5:28 A","","6:27 A","","","","","7:27 A","","","","","8:27 A","","","9:03 A","9:33 A","10:03 A","10:33 A","11:33 A","12:33 P","1:33 P","2:33 P","3:03 P","3:30 P","4:07 P","","","5:07 P","","","","","6:07 P","","","","","","7:13 P","7:53 P","8:53 P","9:53 P","10:53 P"],["California Ave","4:57 A","5:32 A","","6:31 A","","","","7:11 A","7:31 A","","","","8:11 A","8:31 A","","","9:07 A","9:37 A","10:07 A","10:37 A","11:37 A","12:37 P","1:37 P","2:37 P","3:07 P","3:34 P","4:11 P","","","5:11 P","","","","","6:11 P","","","","","7:06 P","7:17 P","7:57 P","8:57 P","9:57 P","10:57 P"],["Palo Alto","5:01 A","5:36 A","6:05 A","6:36 A","6:23 A","","7:05 A","7:16 A","7:36 A","7:23 A","","8:05 A","8:16 A","8:36 A","8:23 A","","9:11 A","9:41 A","10:11 A","10:41 A","11:41 A","12:41 P","1:41 P","2:41 P","3:11 P","3:38 P","4:16 P","4:24 P","","5:16 P","5:06 P","5:24 P","","5:54 P","6:16 P","6:06 P","6:24 P","","6:54 P","7:10 P","7:21 P","8:01 P","9:01 P","10:01 P","11:01 P"],["Menlo Park","5:04 A","5:39 A","","6:39@ A","","6:45@ A","","","7:39@ A","","7:45@ A","","","8:39@ A","","8:45@ A","9:14 A","9:44 A","10:14 A","10:44 A","11:44 A","12:44 P","1:44 P","2:44 P","3:14 P","3:41 P","4:19 P","","4:46 P","5:19 P","","","5:46 P","5:57 P","6:19 P","","","6:46 P","6:57 P","7:13 P","7:24 P","8:04 P","9:04 P","10:04 P","11:04 P"],["Redwood City","5:09 A","5:44 A","","6:45@ A","6:30 A","6:51@ A","","","7:45@ A","7:30 A","7:51@ A","","","8:45@ A","8:30 A","8:51@ A","9:19 A","9:49 A","10:19 A","10:49 A","11:49 A","12:49 P","1:49 P","2:49 P","3:19 P","3:46 P","4:25@ P","4:31@ P","4:52 P","5:25@ P","","5:31@ P","5:52 P","","6:25@ P","","6:31@ P","6:52 P","","7:19 P","7:29 P","8:09 P","9:09 P","10:09 P","11:09 P"],["San Carlos","5:13 A","5:48 A","","","","6:55 A","","7:24 A","","","7:55 A","","8:24 A","","","8:55 A","9:23 A","9:53 A","10:23 A","10:53 A","11:53 A","12:53 P","1:53 P","2:53 P","3:23 P","3:50 P","4:29@ P","4:35@ P","","5:29@ P","","5:35@ P","","6:04 P","6:29@ P","","6:35@ P","","7:04 P","7:23 P","7:33 P","8:13 P","9:13 P","10:13 P","11:13 P"],["Belmont","5:16 A","5:51 A","","","","6:58 A","","","","","7:58 A","","","","","8:58 A","9:26 A","9:56 A","10:26 A","10:56 A","11:56 A","12:56 P","1:56 P","2:56 P","3:26 P","3:53 P","","4:38 P","","","","5:38 P","","","","","6:38 P","","","","7:36 P","8:16 P","9:16 P","10:16 P","11:16 P"],["Hillsdale","5:19 A","5:54 A","6:16 A","6:51 A","","7:02 A","7:16 A","7:28 A","7:51 A","","8:02 A","8:16 A","8:28 A","8:51 A","","9:02 A","9:29 A","9:59 A","10:29 A","10:59 A","11:59 A","12:59 P","1:59 P","2:59 P","3:29 P","3:56 P","","4:42 P","","","5:17 P","5:42 P","","6:08 P","","6:17 P","6:42 P","","7:08 P","7:28 P","7:39 P","8:19 P","9:19 P","10:19 P","11:19 P"],["Hayward Park","5:22 A","5:57 A","","","","7:05 A","","","","","8:05 A","","","","","9:05 A","","10:02 A","","11:02 A","12:02 P","1:02 P","2:02 P","3:02 P","","3:59 P","","4:45 P","","","","5:45 P","","","","","6:45 P","","","","7:42 P","8:22 P","9:22 P","10:22 P","11:22 P"],["San Mateo","5:25 A","6:00 A","","","6:39 A","7:08 A","","7:32 A","","7:39 A","8:08 A","","8:32 A","","8:39 A","9:08 A","9:33 A","10:05 A","10:33 A","11:05 A","12:05 P","1:05 P","2:05 P","3:05 P","3:33 P","4:02 P","4:36 P","4:48 P","","5:36 P","","5:48 P","","6:12 P","6:36 P","","6:48 P","","7:12 P","7:32 P","7:45 P","8:25 P","9:25 P","10:25 P","11:25 P"],["Burlingame","5:28 A","6:03 A","","","","7:11 A","","7:35 A","","","8:11 A","","8:35 A","","","9:11 A","9:36 A","10:08 A","10:36 A","11:08 A","12:08 P","1:08 P","2:08 P","3:08 P","3:36 P","4:05 P","","4:51 P","","","","5:51 P","","6:15 P","","","6:51 P","","7:15 P","7:35 P","7:48 P","8:28 P","9:28 P","10:28 P","11:28 P"],["Millbrae","5:33 A","6:08 A","6:24 A","6:59 A","6:45 A","7:17 A","7:24 A","","7:59 A","7:45 A","8:17 A","8:24 A","","8:59 A","8:45 A","9:17 A","9:41 A","10:13 A","10:41 A","11:13 A","12:13 P","1:13 P","2:13 P","3:13 P","3:41 P","4:10 P","4:43 P","4:57 P","5:05 P","5:43 P","5:25 P","5:57 P","6:05 P","","6:43 P","6:25 P","6:57 P","7:05 P","","7:41 P","7:53 P","8:33 P","9:33 P","10:33 P","11:33 P"],["San Bruno","5:37 A","6:12 A","","","","7:21 A","","7:42 A","","","8:21 A","","8:42 A","","","9:21 A","9:45 A","10:17 A","10:45 A","11:17 A","12:17 P","1:17 P","2:17 P","3:17 P","3:45 P","4:14 P","","5:01 P","","","","6:01 P","","6:22 P","","","7:01 P","","7:22 P","","7:57 P","8:37 P","9:37 P","10:37 P","11:37 P"],["So. San Francisco","5:41 A","6:16 A","","7:05 A","","7:25 A","","","8:05 A","","8:25 A","","","9:05 A","","9:25 A","","10:21 A","","11:21 A","12:21 P","1:21 P","2:21 P","3:21 P","","4:18 P","","5:05 P","","","","6:05 P","","","","","7:05 P","","","","8:01 P","8:41 P","9:41 P","10:41 P","11:41 P"],["Bayshore","5:47 A","6:22 A","","","","7:33* A","","","","","8:33* A","","","","","9:31 A","","10:27 A","","11:27 A","12:27 P","1:27 P","2:27 P","3:27 P","","4:24 P","","5:13* P","","","","6:13* P","","","","","7:13* P","","","","8:07 P","8:47 P","9:47 P","10:47 P","11:47 P"],["22nd Street","5:52 A","6:27 A","","","","7:40* A","","","","","8:40* A","","","","","9:37 A","","10:32 A","","11:32 A","12:32 P","1:32 P","2:32 P","3:32 P","","4:29 P","4:55 P","5:21* P","5:17 P","5:55 P","5:37 P","6:21* P","6:17 P","","6:55 P","6:37 P","7:21* P","7:17 P","","7:53 P","8:12 P","8:52 P","9:52 P","10:52 P","11:52 P"],["San Francisco","6:01 A","6:36 A","6:42 A","7:19 A","7:02 A","7:48 A","7:42 A","7:57 A","8:19 A","8:02 A","8:48 A","8:42 A","8:57 A","9:19 A","9:02 A","9:45 A","10:02 A","10:41 A","11:02 A","11:41 A","12:41 P","1:41 P","2:41 P","3:41 P","4:02 P","4:38 P","5:03 P","5:29 P","5:24 P","6:02 P","5:44 P","6:29 P","6:24 P","6:39 P","7:02 P","6:44 P","7:29 P","7:24 P","7:39 P","8:00 P","8:21 P","9:01 P","10:01 P","11:01 P","12:01 A"]],[["Train No.","102","104","206(x)","208(x)","210(x)","312(b)","314(b)","216(x)","218(x)","220(x)","322(b)","324(b)","226(x)","228(x)","230(x)","332(b)","134","236(x)","138","142","146","150","154","256(x)","158","260(x)","362(b)","264(x)","266(x)","368(b)","270(x)","372(b)","274(x)","276(x)","378(b)","280(x)","382(b)","284(x)","386(b)","288(x)","190","192","194","196","198"],["San Francisco","4:55 A","5:25 A","6:11 A","6:24 A","6:44 A","6:59 A","7:14 A","7:19 A","7:24 A","7:44 A","7:59 A","8:14 A","8:19 A","8:24 A","8:44 A","8:59 A","9:07 A","9:37 A","10:07 A","11:07 A","12:07 P","1:07 P","2:07 P","2:37 P","3:07 P","3:37 P","4:09 P","4:19 P","4:27 P","4:33 P","4:56 P","5:14 P","5:20 P","5:27 P","5:33 P","5:56 P","6:14 P","6:27 P","6:33 P","6:56 P","7:30 P","8:40 P","9:40 P","10:40 P","12:01 A"],["22nd Street","5:00 A","5:30 A","6:16 A","6:29 A","6:49 A","7:04 A","7:19 A","","7:29 A","7:49 A","8:04 A","8:19 A","","8:29 A","8:49 A","9:04 A","9:12 A","","10:12 A","11:12 A","12:12 P","1:12 P","2:12 P","","3:12 P","","","","4:32 P","","","","","5:32 P","","","","6:32 P","","","7:35 P","8:45 P","9:45 P","10:45 P","12:06 A"],["Bayshore","5:05 A","5:35 A","","6:34 A","","","","","7:34 A","","","","","8:34 A","","","9:17 A","","10:17 A","11:17 A","12:17 P","1:17 P","2:17 P","","3:17 P","","","","4:40 P","","","","","5:40 P","","","","6:40 P","","","7:40 P","8:50 P","9:50 P","10:50 P","12:11 A"],["So. San Francisco","5:11 A","5:41 A","","6:40 A","","","","","7:40 A","","","","","8:40 A","","","9:23 A","","10:23 A","11:23 A","12:23 P","1:23 P","2:23 P","","3:23 P","","","","4:48 P","","5:08 P","","","5:48 P","","6:08 P","","6:48 P","","7:08 P","7:46 P","8:56 P","9:56 P","10:56 P","12:17 A"],["San Bruno","5:15 A","5:45 A","","6:44 A","","","","7:33 A","7:44 A","","","","8:33 A","8:44 A","","","9:27 A","9:51 A","10:27 A","11:27 A","12:27 P","1:27 P","2:27 P","2:51 P","3:27 P","3:51 P","","4:33 P","4:52 P","","","","5:34 P","5:52 P","","","","6:52 P","","","7:50 P","9:00 P","10:00 P","11:00 P","12:21 A"],["Millbrae","5:19 A","5:49 A","6:29 A","6:48 A","7:01 A","7:17 A","7:32 A","","7:48 A","8:01 A","8:17 A","8:32 A","","8:48 A","9:01 A","9:17 A","9:31 A","9:55 A","10:31 A","11:31 A","12:31 P","1:31 P","2:31 P","2:55 P","3:31 P","3:55 P","4:25 P","","4:56 P","4:49 P","5:14 P","5:30 P","","5:56 P","5:49 P","6:14 P","6:30 P","6:56 P","6:49 P","7:14 P","7:54 P","9:04 P","10:04 P","11:04 P","12:25 A"],["Burlingame","5:23 A","5:53 A","6:33 A","6:52 A","","","","7:38 A","7:52 A","","","","8:38 A","8:52 A","","","9:35 A","9:59 A","10:35 A","11:35 A","12:35 P","1:35 P","2:35 P","2:59 P","3:35 P","3:59 P","","4:38 P","5:00 P","","","","5:39 P","6:00 P","","","","7:00 P","","","7:58 P","9:08 P","10:08 P","11:08 P","12:29 A"],["San Mateo","5:26 A","5:56 A","6:36 A","6:55 A","7:07 A","","","7:42 A","7:55 A","8:07 A","","","8:42 A","8:55 A","9:07 A","","9:38 A","10:02 A","10:38 A","11:38 A","12:38 P","1:38 P","2:38 P","3:02 P","3:38 P","4:02 P","","4:42 P","5:04 P","4:57 P","","","5:43 P","6:04 P","5:57 P","","","7:04 P","6:57 P","","8:01 P","9:11 P","10:11 P","11:11 P","12:32 A"],["Hayward Park","5:29 A","5:59 A","","6:58 A","","","","","7:58 A","","","","","8:58 A","","","9:41 A","","10:41 A","11:41 A","12:41 P","1:41 P","2:41 P","","3:41 P","","","","5:07 P","","","","","6:07 P","","","","7:07 P","","","8:04 P","9:14 P","10:14 P","11:14 P","12:35 A"],["Hillsdale","5:32 A","6:02 A","6:40 A","7:01 A","","","7:40 A","7:46 A","8:01 A","","","8:40 A","8:46 A","9:01 A","","","9:44 A","10:06 A","10:44 A","11:44 A","12:44 P","1:44 P","2:44 P","3:06 P","3:44 P","4:06 P","4:33 P","4:47 P","5:11 P","","5:22 P","5:38 P","5:48 P","6:11 P","","6:22 P","6:38 P","7:11 P","","7:22 P","8:07 P","9:17 P","10:17 P","11:17 P","12:38 A"],["Belmont","5:35 A","6:05 A","","7:04 A","","","","","8:04 A","","","","","9:04 A","","","9:47 A","10:09 A","10:47 A","11:47 A","12:47 P","1:47 P","2:47 P","3:09 P","3:47 P","4:09 P","","","5:14 P","","","","","6:14 P","","","","7:14 P","","","8:10 P","9:20 P","10:20 P","11:20 P","12:41 A"],["San Carlos","5:38 A","6:08 A","6:44 A","7:07@ A","7:13@ A","","","7:50 A","8:07@ A","8:13@ A","","","8:50 A","9:07@ A","9:13@ A","","9:50 A","10:12 A","10:50 A","11:50 A","12:50 P","1:50 P","2:50 P","3:12 P","3:50 P","4:12 P","","4:51 P","5:18 P","","","","5:52 P","6:18 P","","","","7:18 P","","","8:13 P","9:23 P","10:23 P","11:23 P","12:44 A"],["Redwood City","5:43 A","6:13 A","6:49 A","7:12@ A","7:18@ A","7:30 A","","","8:12@ A","8:18@ A","8:30 A","","","9:12@ A","9:18@ A","9:30 A","9:55 A","10:17 A","10:55 A","11:55 A","12:55 P","1:55 P","2:55 P","3:17 P","3:55 P","4:17 P","","","5:22@ P","5:06 P","5:28@ P","","","6:22@ P","6:06 P","6:28@ P","","7:22@ P","7:06 P","7:28@ P","8:18 P","9:28 P","10:28 P","11:28 P","12:49 A"],["Menlo Park","5:48 A","6:18 A","6:54 A","","7:23 A","7:35 A","","7:58 A","","8:23 A","8:35 A","","8:58 A","","9:23 A","9:35 A","10:00 A","10:22 A","11:00 A","12:00 P","1:00 P","2:00 P","3:00 P","3:22 P","4:00 P","4:22 P","","","5:28@ P","","5:34@ P","","","6:28@ P","","6:34@ P","","7:28@ P","","7:34@ P","8:23 P","9:33 P","10:33 P","11:33 P","12:54 A"],["Palo Alto","5:51 A","6:21 A","6:57 A","7:18 A","7:26 A","","7:51 A","8:01 A","8:18 A","8:26 A","","8:51 A","9:01 A","9:18 A","9:26 A","","10:03 A","10:25 A","11:03 A","12:03 P","1:03 P","2:03 P","3:03 P","3:25 P","4:03 P","4:25 P","4:44 P","5:01 P","","5:12 P","5:38 P","5:49 P","6:02 P","","6:12 P","6:38 P","6:49 P","","7:12 P","7:38 P","8:26 P","9:36 P","10:36 P","11:36 P","12:57 A"],["California Ave","5:55 A","6:25 A","7:01 A","","7:30 A","","","","","8:30 A","","","","","9:30 A","","10:07 A","10:29 A","11:07 A","12:07 P","1:07 P","2:07 P","3:07 P","3:29 P","4:07 P","4:29 P","","5:05 P","","","5:42 P","","6:06 P","","","6:42 P","","","","7:42 P","8:30 P","9:40 P","10:40 P","11:40 P","1:01 A"],["San Antonio","5:59 A","6:29 A","","","7:34 A","","","","","8:34 A","","","","","9:34 A","","10:11 A","10:33 A","11:11 A","12:11 P","1:11 P","2:11 P","3:11 P","3:33 P","4:11 P","4:33 P","","","","","5:46 P","","","","","6:46 P","","","","7:46 P","8:34 P","9:44 P","10:44 P","11:44 P","1:05 A"],["Mountain View","6:03 A","6:33 A","7:07 A","","7:38 A","7:44 A","7:58 A","8:09 A","","8:38 A","8:44 A","8:58 A","9:09 A","","9:38 A","9:44 A","10:15 A","10:37 A","11:15 A","12:15 P","1:15 P","2:15 P","3:15 P","3:37 P","4:15 P","4:37 P","4:51 P","5:11 P","5:36 P","","5:50 P","5:56 P","6:12 P","6:36 P","","6:50 P","6:56 P","7:36 P","","7:50 P","8:38 P","9:48 P","10:48 P","11:48 P","1:09 A"],["Sunnyvale","6:08 A","6:38 A","","","7:43 A","","","","","8:43 A","","","","","9:43 A","","10:20 A","10:42 A","11:20 A","12:20 P","1:20 P","2:20 P","3:20 P","3:42 P","4:20 P","4:42 P","","5:16 P","","5:21 P","5:55 P","","6:17 P","","6:21 P","6:55 P","","","7:21 P","7:55 P","8:43 P","9:53 P","10:53 P","11:53 P","1:14 A"],["Lawrence","6:12 A","6:42 A","7:12 A","","7:49* A","","","8:16 A","","8:49* A","","","9:16 A","","9:49* A","","10:24 A","10:46 A","11:24 A","12:24 P","1:24 P","2:24 P","3:24 P","3:46 P","4:24 P","4:46 P","","","","","6:01* P","","","6:43 P","","7:01* P","","","","7:59 P","8:47 P","9:57 P","10:57 P","11:57 P","1:18 A"],["Santa Clara","6:17 A","6:47 A","","7:34 A","7:56* A","","","","8:34 A","8:56* A","","","","9:34 A","9:56* A","","10:29 A","10:51 A","11:29 A","12:29 P","1:29 P","2:29 P","3:29 P","3:51 P","4:29 P","4:51 P","","","5:47 P","","6:08* P","","","6:48 P","","7:08* P","","7:47 P","","8:04 P","8:52 P","10:02 P","11:02 P","12:02 A","1:23 A"],["College Park","","","","","7:59* A","","","","","","","","","","","","","","","","","","","","4:32 P","","","","","","","","","","","","","","","","","","","",""],["San Jose","6:26 A","6:56 A","7:24 A","7:43 A","8:06 A","7:58 A","8:13 A","8:28 A","8:43 A","9:05 A","8:58 A","9:13 A","9:28 A","9:43 A","10:05 A","9:58 A","10:38 A","11:00 A","11:38 A","12:38 P","1:38 P","2:38 P","3:38 P","4:00 P","4:39 P","5:00 P","5:06 P","5:27 P","5:55 P","5:32 P","6:16 P","6:11 P","6:28 P","6:56 P","6:32 P","7:16 P","7:11 P","7:55 P","7:32 P","8:12 P","9:01 P","10:11 P","11:11 P","12:11 A","1:32 A"],["Tamien","","7:03 A","","7:50 A","8:13 A","","","","8:50 A","9:12 A","","","","9:50 A","10:12 A","","","11:07 A","","","","","","4:07 P","4:45 P","5:07 P","","","","5:39 P","6:22 P","","","7:02 P","6:39 P","7:23 P","","","7:39 P","8:19 P","","10:18 P","11:18 P","",""],["Capitol","","","","","","","","","","","","","","","","","","","","","","","","","4:52 P","","","","","","6:29 P","","","7:09 P","","","","","","","","","","",""],["Blossom Hill","","","","","","","","","","","","","","","","","","","","","","","","","4:58 P","","","","","","6:35 P","","","7:15 P","","","","","","","","","","",""],["Morgan Hill","","","","","","","","","","","","","","","","","","","","","","","","","5:11 P","","","","","","6:48 P","","","7:28 P","","","","","","","","","","",""],["San Martin","","","","","","","","","","","","","","","","","","","","","","","","","5:17 P","","","","","","6:54 P","","","7:34 P","","","","","","","","","","",""],["Gilroy","","","","","","","","","","","","","","","","","","","","","","","","","5:30 P","","","","","","7:07 P","","","7:47 P","","","","","","","","","","",""]],[["Train No.","421 SAT. only","423","425","427","429","431","433","435","437","439","441","443","445","447","449","451# SAT. only"],["Shuttle dep. Tamien","","7:31 A","8:31 A","9:31 A","10:31 A","11:31 A","12:31 P","1:31 P","2:31 P","3:31 P","4:31 P","5:31 P","6:31 P","7:31 P","",""],["Shuttle Bus arr. S.J.","","7:45 A","8:45 A","9:45 A","10:45 A","11:45 A","12:45 P","1:45 P","2:45 P","3:45 P","4:45 P","5:45 P","6:45 P","7:45 P","",""],["San Jose","7:00 A","8:00 A","9:00 A","10:00 A","11:00 A","12:00 P","1:00 P","2:00 P","3:00 P","4:00 P","5:00 P","6:00 P","7:00 P","8:00 P","9:00 P","10:30 P"],["Santa Clara","7:05 A","8:05 A","9:05 A","10:05 A","11:05 A","12:05 P","1:05 P","2:05 P","3:05 P","4:05 P","5:05 P","6:05 P","7:05 P","8:05 P","9:05 P","10:35 P"],["Lawrence","7:10 A","8:10 A","9:10 A","10:10 A","11:10 A","12:10 P","1:10 P","2:10 P","3:10 P","4:10 P","5:10 P","6:10 P","7:10 P","8:10 P","9:10 P","10:40 P"],["Sunnyvale","7:14 A","8:14 A","9:14 A","10:14 A","11:14 A","12:14 P","1:14 P","2:14 P","3:14 P","4:14 P","5:14 P","6:14 P","7:14 P","8:14 P","9:14 P","10:44 P"],["Mountain View","7:19 A","8:19 A","9:19 A","10:19 A","11:19 A","12:19 P","1:19 P","2:19 P","3:19 P","4:19 P","5:19 P","6:19 P","7:19 P","8:19 P","9:19 P","10:49 P"],["San Antonio","7:23 A","8:23 A","9:23 A","10:23 A","11:23 A","12:23 P","1:23 P","2:23 P","3:23 P","4:23 P","5:23 P","6:23 P","7:23 P","8:23 P","9:23 P","10:53 P"],["California Ave","7:27 A","8:27 A","9:27 A","10:27 A","11:27 A","12:27 P","1:27 P","2:27 P","3:27 P","4:27 P","5:27 P","6:27 P","7:27 P","8:27 P","9:27 P","10:57 P"],["Palo Alto","7:31 A","8:31 A","9:31 A","10:31 A","11:31 A","12:31 P","1:31 P","2:31 P","3:31 P","4:31 P","5:31 P","6:31 P","7:31 P","8:31 P","9:31 P","11:01 P"],["Menlo Park","7:34 A","8:34 A","9:34 A","10:34 A","11:34 A","12:34 P","1:34 P","2:34 P","3:34 P","4:34 P","5:34 P","6:34 P","7:34 P","8:34 P","9:34 P","11:04 P"],["Atherton","7:37 A","8:37 A","9:37 A","10:37 A","11:37 A","12:37 P","1:37 P","2:37 P","3:37 P","4:37 P","5:37 P","6:37 P","7:37 P","8:37 P","9:37 P","11:07 P"],["Redwood City","7:41 A","8:41 A","9:41 A","10:41 A","11:41 A","12:41 P","1:41 P","2:41 P","3:41 P","4:41 P","5:41 P","6:41 P","7:41 P","8:41 P","9:41 P","11:11 P"],["San Carlos","7:45 A","8:45 A","9:45 A","10:45 A","11:45 A","12:45 P","1:45 P","2:45 P","3:45 P","4:45 P","5:45 P","6:45 P","7:45 P","8:45 P","9:45 P","11:15 P"],["Belmont","7:48 A","8:48 A","9:48 A","10:48 A","11:48 A","12:48 P","1:48 P","2:48 P","3:48 P","4:48 P","5:48 P","6:48 P","7:48 P","8:48 P","9:48 P","11:18 P"],["Hillsdale","7:51 A","8:51 A","9:51 A","10:51 A","11:51 A","12:51 P","1:51 P","2:51 P","3:51 P","4:51 P","5:51 P","6:51 P","7:51 P","8:51 P","9:51 P","11:21 P"],["Hayward Park","7:54 A","8:54 A","9:54 A","10:54 A","11:54 A","12:54 P","1:54 P","2:54 P","3:54 P","4:54 P","5:54 P","6:54 P","7:54 P","8:54 P","9:54 P","11:24 P"],["San Mateo","7:57 A","8:57 A","9:57 A","10:57 A","11:57 A","12:57 P","1:57 P","2:57 P","3:57 P","4:57 P","5:57 P","6:57 P","7:57 P","8:57 P","9:57 P","11:27 P"],["Burlingame","8:00 A","9:00 A","10:00 A","11:00 A","12:00 P","1:00 P","2:00 P","3:00 P","4:00 P","5:00 P","6:00 P","7:00 P","8:00 P","9:00 P","10:00 P","11:30 P"],["Broadway","8:03 A","9:03 A","10:03 A","11:03 A","12:03 P","1:03 P","2:03 P","3:03 P","4:03 P","5:03 P","6:03 P","7:03 P","8:03 P","9:03 P","10:03 P","11:33 P"],["Millbrae","8:08 A","9:08 A","10:08 A","11:08 A","12:08 P","1:08 P","2:08 P","3:08 P","4:08 P","5:08 P","6:08 P","7:08 P","8:08 P","9:08 P","10:08 P","11:38 P"],["San Bruno","8:12 A","9:12 A","10:12 A","11:12 A","12:12 P","1:12 P","2:12 P","3:12 P","4:12 P","5:12 P","6:12 P","7:12 P","8:12 P","9:12 P","10:12 P","11:42 P"],["So. San Francisco","8:17 A","9:17 A","10:17 A","11:17 A","12:17 P","1:17 P","2:17 P","3:17 P","4:17 P","5:17 P","6:17 P","7:17 P","8:17 P","9:17 P","10:17 P","11:47 P"],["Bayshore","8:23 A","9:23 A","10:23 A","11:23 A","12:23 P","1:23 P","2:23 P","3:23 P","4:23 P","5:23 P","6:23 P","7:23 P","8:23 P","9:23 P","10:23 P","11:53 P"],["22nd Street","8:28 A","9:28 A","10:28 A","11:28 A","12:28 P","1:28 P","2:28 P","3:28 P","4:28 P","5:28 P","6:28 P","7:28 P","8:28 P","9:28 P","10:28 P","11:58 P"],["San Francisco","8:36 A","9:36 A","10:36 A","11:36 A","12:36 P","1:36 P","2:36 P","3:36 P","4:36 P","5:36 P","6:36 P","7:36 P","8:36 P","9:36 P","10:36 P","12:06 A"]],[["Train No.","422","424","426","428","430","432","434","436","438","440","442","444","446","448","450 SAT. only","454 SAT. only"],["San Francisco","8:15 A","9:15 A","10:15 A","11:15 A","12:15 P","1:15 P","2:15 P","3:15 P","4:15 P","5:15 P","6:15 P","7:15 P","8:15 P","9:15 P","10:15 P","12:01 A"],["22nd Street","8:20 A","9:20 A","10:20 A","11:20 A","12:20 P","1:20 P","2:20 P","3:20 P","4:20 P","5:20 P","6:20 P","7:20 P","8:20 P","9:20 P","10:20 P","12:06 A"],["Bayshore","8:25 A","9:25 A","10:25 A","11:25 A","12:25 P","1:25 P","2:25 P","3:25 P","4:25 P","5:25 P","6:25 P","7:25 P","8:25 P","9:25 P","10:25 P","12:11 A"],["So. San Francisco","8:31 A","9:31 A","10:31 A","11:31 A","12:31 P","1:31 P","2:31 P","3:31 P","4:31 P","5:31 P","6:31 P","7:31 P","8:31 P","9:31 P","10:31 P","12:17 A"],["San Bruno","8:35 A","9:35 A","10:35 A","11:35 A","12:35 P","1:35 P","2:35 P","3:35 P","4:35 P","5:35 P","6:35 P","7:35 P","8:35 P","9:35 P","10:35 P","12:21 A"],["Millbrae","8:39 A","9:39 A","10:39 A","11:39 A","12:39 P","1:39 P","2:39 P","3:39 P","4:39 P","5:39 P","6:39 P","7:39 P","8:39 P","9:39 P","10:39 P","12:25 A"],["Broadway","8:43 A","9:43 A","10:43 A","11:43 A","12:43 P","1:43 P","2:43 P","3:43 P","4:43 P","5:43 P","6:43 P","7:43 P","8:43 P","9:43 P","10:43 P","12:29 A"],["Burlingame","8:45 A","9:45 A","10:45 A","11:45 A","12:45 P","1:45 P","2:45 P","3:45 P","4:45 P","5:45 P","6:45 P","7:45 P","8:45 P","9:45 P","10:45 P","12:31 A"],["San Mateo","8:49 A","9:49 A","10:49 A","11:49 A","12:49 P","1:49 P","2:49 P","3:49 P","4:49 P","5:49 P","6:49 P","7:49 P","8:49 P","9:49 P","10:49 P","12:35 A"],["Hayward Park","8:52 A","9:52 A","10:52 A","11:52 A","12:52 P","1:52 P","2:52 P","3:52 P","4:52 P","5:52 P","6:52 P","7:52 P","8:52 P","9:52 P","10:52 P","12:38 A"],["Hillsdale","8:55 A","9:55 A","10:55 A","11:55 A","12:55 P","1:55 P","2:55 P","3:55 P","4:55 P","5:55 P","6:55 P","7:55 P","8:55 P","9:55 P","10:55 P","12:41 A"],["Belmont","8:58 A","9:58 A","10:58 A","11:58 A","12:58 P","1:58 P","2:58 P","3:58 P","4:58 P","5:58 P","6:58 P","7:58 P","8:58 P","9:58 P","10:58 P","12:44 A"],["San Carlos","9:01 A","10:01 A","11:01 A","12:01 P","1:01 P","2:01 P","3:01 P","4:01 P","5:01 P","6:01 P","7:01 P","8:01 P","9:01 P","10:01 P","11:01 P","12:47 A"],["Redwood City","9:07 A","10:07 A","11:07 A","12:07 P","1:07 P","2:07 P","3:07 P","4:07 P","5:07 P","6:07 P","7:07 P","8:07 P","9:07 P","10:07 P","11:07 P","12:53 A"],["Atherton","9:11 A","10:11 A","11:11 A","12:11 P","1:11 P","2:11 P","3:11 P","4:11 P","5:11 P","6:11 P","7:11 P","8:11 P","9:11 P","10:11 P","11:11 P","12:57 A"],["Menlo Park","9:14 A","10:14 A","11:14 A","12:14 P","1:14 P","2:14 P","3:14 P","4:14 P","5:14 P","6:14 P","7:14 P","8:14 P","9:14 P","10:14 P","11:14 P","1:00 A"],["Palo Alto","9:17 A","10:17 A","11:17 A","12:17 P","1:17 P","2:17 P","3:17 P","4:17 P","5:17 P","6:17 P","7:17 P","8:17 P","9:17 P","10:17 P","11:17 P","1:03 A"],["California Ave","9:21 A","10:21 A","11:21 A","12:21 P","1:21 P","2:21 P","3:21 P","4:21 P","5:21 P","6:21 P","7:21 P","8:21 P","9:21 P","10:21 P","11:21 P","1:07 A"],["San Antonio","9:25 A","10:25 A","11:25 A","12:25 P","1:25 P","2:25 P","3:25 P","4:25 P","5:25 P","6:25 P","7:25 P","8:25 P","9:25 P","10:25 P","11:25 P","1:11 A"],["Mountain View","9:29 A","10:29 A","11:29 A","12:29 P","1:29 P","2:29 P","3:29 P","4:29 P","5:29 P","6:29 P","7:29 P","8:29 P","9:29 P","10:29 P","11:29 P","1:15 A"],["Sunnyvale","9:34 A","10:34 A","11:34 A","12:34 P","1:34 P","2:34 P","3:34 P","4:34 P","5:34 P","6:34 P","7:34 P","8:34 P","9:34 P","10:34 P","11:34 P","1:20 A"],["Lawrence","9:38 A","10:38 A","11:38 A","12:38 P","1:38 P","2:38 P","3:38 P","4:38 P","5:38 P","6:38 P","7:38 P","8:38 P","9:38 P","10:38 P","11:38 P","1:24 A"],["Santa Clara","9:43 A","10:43 A","11:43 A","12:43 P","1:43 P","2:43 P","3:43 P","4:43 P","5:43 P","6:43 P","7:43 P","8:43 P","9:43 P","10:43 P","11:43 P","1:29 A"],["San Jose","9:51 A","10:51 A","11:51 A","12:51 P","1:51 P","2:51 P","3:51 P","4:51 P","5:51 P","6:51 P","7:51 P","8:51 P","9:51 P","10:51 P","11:51 P","1:37 A"],["Shuttle Bus dep. SJ","10:05 A","11:05 A","12:05 P","1:05 P","2:05 P","3:05 P","4:05 P","5:05 P","6:05 P","7:05 P","8:05 P","9:05 P","10:05 P","","",""],["Shuttle arr. Tamien","10:13 A","11:13 A","12:13 P","1:13 P","2:13 P","3:13 P","4:13 P","5:13 P","6:13 P","7:13 P","8:13 P","9:13 P","10:13 P","","",""]]]');
var weekday="Mon-Fri";
var weekend="Weekend";
var northbound="Northbound";
var southbound="Southbound";
var TRAIN="Train";
var MAP="Map";


function getTable(_c,_d){
  var _e;
  if(_c==weekday){
  if(_d==northbound){
      _e=timetables[0];
    }else{
      _e=timetables[1];
    }
  }else{
  if(_d==northbound){
      _e=timetables[2];
    }else{
      _e=timetables[3];
    }
  }
  return _e;
};

function t2mins(str) {
  var r = /([0-9]+):([0-9]+) ([AP])/;
  var m = str.match( r);
  if (!m) {return -1;}
  return ((m[3]=="P" && m[1]!=12)?12*60:0)+m[1]*60+m[2]*1;
}

function update(direction) {

  var currentTime = new Date();
  schedule = (currentTime.getDay()==0 || currentTime.getDay()==6) ? weekend : weekday;

  table = getTable(schedule, direction);

  var t;
  for (i=0;i<table.length;i++) {
    var r = table[i];
    if (r[0]=="Mountain View") {
      t = r;
    }    
  }
  var previous_best = 999;
  for (i=1;i<t.length;i++) {

    var delta = t2mins(t[i])-t2mins(window.time);

    //console.log(t[i]);
    //console.log(delta);

    if (delta>0 && delta < previous_best) {
      previous_best = delta;
      $("#"+direction+"_direction").html(direction);
      $("#"+direction+"_train").html(t[i]+"M - "+delta+" mins");
    }
    if (delta==0) {
      previous_best = delta;
      $("#"+direction+"_direction").html(direction+" - arrival");
      $("#"+direction+"_train").html(t[i]+"M - now"); 
      $("body").addClass("arrival");
    }     
  }
  if (previous_best==999) {
      $("#"+direction+"_direction").html("No more trains");
      $("#"+direction+"_train").html("Goodnight");

  }
}

function redraw() {
  $("body").removeClass("arrival");
  window.time = gtime();
  $("#time").html(window.time+"M");
  update("Northbound");
  update("Southbound");


var query = escape('select item from weather.forecast where location="94043"'),
    url = "http://query.yahooapis.com/v1/public/yql?q=" + query + "&format=json&callback=?"; 

$.getJSON(url, function(data) {
  var f = data.query.results.channel.item.condition.temp;
  $("#f").html(f+"&deg;F");
  for (var i=0; i<5; i++) {
    var o = data.query.results.channel.item.forecast[i];
    console.log( o );
    var img = 'http://l.yimg.com/a/i/us/we/52/'+o.code+'.gif';
    var h = "<center>"+o.day+"<br><img width=78 height=78 src='"+img+"'></center>";
    $("#w"+i).html(h);
  }

});

}


$(document).ready(function() {
  
  redraw();
  setInterval(redraw,6*10000);
  
  
});

// 9ddc7062-5b66-4251-9ee0-320f6c10059b
</script>



</body>
</html>